# 함수형 프로그래밍

함수형 프로그래밍은 공유 상태와 가변 데이터를 멀리하고 부수효과(Side Effect)를 피하기 위한 순수 함수로 작성하는 프로그래밍 패러다임을 말한다.

<br/>
※ 프로그래밍 패러다임

- **명령형** 프로그래밍 ⇒ **HOW** : 알고리즘을 명시하고 목표는 명시하지 않음. <br/>
  프로그래밍의 상태와 상태를 변경시키는 **구문의 관점**에서의 연산을 설명하는 방식 - 절차 지향 프로그래밍 : 수행되어야 할 연속적인 계산 과정을 포함하는 방식 - 객체 지향 프로그래밍 : 객체들의 집합으로 프로그램의 상호작용을 표현
- **선언형** 프로그래밍 ⇒ **WHAT** : 알고리즘을 명시하지 않고 목표만 명시함.<br/>
  어떻게 할 것인가 보다는 무엇을 할 것인가를 표현하는 방식 - 함수형 프로그래밍 : 순수함수를 조합하는 방식

<br/>

## 특징

### 1. 순수함수

순수 함수는 side-effect를 가지지 않으며, 같은 입력을 받는다면 항상 같은 결과를 반환하는 함수를 말한다.

### 2. 참조 투명성

참조 투명성이란 프로그램에 영향없이 함수 호출을 그것에 대한 결과 값으로 대체할 수 있는 것을 말한다.

```js
const sum = (a, b) => a + b;
sum(2, 3); // 5로 대체 가능

// 참조 투명성을 해치는 경우 예시
const sumWithSave = (a, b) => {
  localStorage.setItem("sum", a + b); // 참조 투명성을 해침
  return a + b;
};
sumWithSave(2, 3);
```

### 3. 불변성

변하지 않는 성질을 말하는데, 함수의 계산을 수행하는 동안 변수에 할당된 값들이 절대로 변하지 않는다는 것을 의미한다. 이러한 불변성을 지키기 위해서는 데이터 변경이 필요한 경우 원본을 유지한 채 복사본을 만들어 작업을 진행한 후 반환해주어야 한다.

```js
const person = {
  name: "sieun",
  age: 25,
};

// 불변성 불만족 예시
function increaseAge(person) {
  person.age += 1;
  return person;
}

// 불변성 만족 예시
function increaseAge(person) {
  return { ...person, age: person.age + 1 };
}
```

❗ JS에서의 `const`와 불변성을 혼동하지 않도록 주의하자.

⇒ const는 생성 후 재할당 할 수 없지만, 불변한 객체를 생성하는 것은 아니다. <br/>
객체에 바인딩된 이름은 변경할 수 없지만 객체의 속성은 여전히 변경이 가능하기 때문이다. <br/>
즉, 값이 불변하는 것이 아닌 참조가 불변하는 것!

### 4. 일급 객체

변수나 데이터 구조 안에 담거나 <br/>
파라미터로 전달되거나 <br/>
반환값으로 사용될 수 있으며 고유한 식별이 가능한 객체를 말한다. ⇒ `함수`

👉 함수를 데이터처럼 취급할 수 있게 하는 개념!

```jsx
const addOne = (x) => x + 1;
const transform = (arr) => arr.map(addOne);
```

### 5. 고차 함수

- 함수를 인자로써 전달 할 수 있어야 한다.
- 함수의 반환 값으로 또 다른 함수를 사용할 수 있다.

위의 특징을 만족하는 함수를 고차 함수라고 한다.

### 6. 익명 함수

말 그대로 이름이 없는 함수를 말하며 람다식으로 표현되는 함수 구현

### 7. 느긋한 계산 (Lazy Evaluation)

코드 실행 즉시 값을 평가하는 것이 아닌 필요한 시점에 평가한다.

### 8. 합성 함수

합성 함수은 새로운 함수를 생성하거나 어떤 계산을 수행하기 위해 둘 이상의 함수를 결합하는 프로세스이다.

<br/>

## 장점

- 사용하는 모든 데이터가 **immutable** 하고 함수는 부수 효과를 가지고 있지 않기 때문에 동시성과 관련된 문제를 원천적으로 차단한다.
- 함수는 입력과 그에 대한 출력만을 책임지기 때문에 테스트가 쉽고 가독성이 좋다.
- 고차 함수로 인해 함수들 간의 결합, 조합이 간결해지며, 익명 함수를 사용할 수 있다.
- 코드 재사용성이 높다.
- 깔끔하고 유지보수가 용이하다.

<br/>

## 커링

커링은 특히 함수를 재사용할 때 유용하게 쓰이는 자바스크립트 합수형 프로그래밍 기법 중 하나로 함수 하나가 n개의 인자를 받는 과정을 <b>n개의 단일 인자 함수열</b>로 만드는 것을 말한다.

```js
// unCurrying : f = (a,b,c) => value
f(a, b, c);

// Currying : f = a => b => c => value
f(a)(b)(c);
```

```js
// 2개의 인자를 받는 함수
function add(a, b) {
  return a + b;
}

// 위의 함수를 2개의 단일 인자를 받는 함수로 표현
function add(a) {
  return function (b) {
    return a + b;
  };
}

// 위의 함수를 화살표 함수로 표현
const add = (a) => (b) => a + b;

console.log(add(1)(2));
```
